<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-into-the-woods/trail2-ergo-coding/t-Ergo Syntax">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="alternate" type="application/rss+xml" href="/deco-docs/blog/rss.xml" title="DeCo Education RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/deco-docs/blog/atom.xml" title="DeCo Education Atom Feed"><title data-rh="true">Tips - Ergo Syntax | DeCo Education</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://deco-education.github.io/deco-docs/docs/into-the-woods/trail2-ergo-coding/t-Ergo Syntax"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Tips - Ergo Syntax | DeCo Education"><meta data-rh="true" name="description" content="What’s going on here?"><meta data-rh="true" property="og:description" content="What’s going on here?"><link data-rh="true" rel="icon" href="/deco-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://deco-education.github.io/deco-docs/docs/into-the-woods/trail2-ergo-coding/t-Ergo Syntax"><link data-rh="true" rel="alternate" href="https://deco-education.github.io/deco-docs/docs/into-the-woods/trail2-ergo-coding/t-Ergo Syntax" hreflang="en"><link data-rh="true" rel="alternate" href="https://deco-education.github.io/deco-docs/docs/into-the-woods/trail2-ergo-coding/t-Ergo Syntax" hreflang="x-default"><link rel="stylesheet" href="/deco-docs/assets/css/styles.075a81d0.css">
<link rel="preload" href="/deco-docs/assets/js/runtime~main.4b732aaa.js" as="script">
<link rel="preload" href="/deco-docs/assets/js/main.d7255964.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/deco-docs/"><div class="navbar__logo"><img src="/deco-docs/img/logo.svg" alt="DeCo Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/deco-docs/img/logo.svg" alt="DeCo Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">DeCo</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/deco-docs/docs/intro">Tutorial</a><a class="navbar__item navbar__link" href="/deco-docs/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/deco-education/deco-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/deco-docs/docs/intro">What is DeCo</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/deco-docs/docs/category/calling-all-cabin-leaders">Calling all Cabin Leaders</a><button aria-label="Toggle the collapsible sidebar category &#x27;Calling all Cabin Leaders&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/deco-docs/docs/category/adventure-guide-book">Adventure Guide Book</a><button aria-label="Toggle the collapsible sidebar category &#x27;Adventure Guide Book&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/deco-docs/docs/category/into-the-woods">Into the Woods</a><button aria-label="Toggle the collapsible sidebar category &#x27;Into the Woods&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/deco-docs/docs/category/prepwork-what-is-blockchain">Prepwork: What is Blockchain</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prepwork: What is Blockchain&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/deco-docs/docs/category/trail-1-eutxo--nfts">Trail 1: eUTxO &amp; NFTs</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trail 1: eUTxO &amp; NFTs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/deco-docs/docs/category/trail-2-ergo-dapp-development">Trail 2: Ergo dApp Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trail 2: Ergo dApp Development&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/dapp-components">DApp Components - Backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/t-Ergo Syntax">Tips - Ergo Syntax</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/k-development-env-set-up-scala">WIP Lesson 1. Knowledge - Env Set Up (Scala)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/k-development-env-set-up-js">WIP Lesson 1.1. Knowledge - Development Env Set Up (JavaScript)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/k-ergo-appkit-basics">Lesson 2. Knowledge - Ergo Appkit Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/ho-creating-tx-via-app-kit">Lesson 3. Hands-On - Creating Tx via App Kit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/ho-your-first-token">Lesson 4. Hands-On - Your First Token</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/ho-your-first-nft">Lesson 5. Hands-On - Your first NFT</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/deco-docs/docs/category/trail-3-multi-stage-txs--smart-contracts">Trail 3: Multi-Stage Txs &amp; Smart Contracts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trail 3: Multi-Stage Txs &amp; Smart Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/deco-docs/docs/category/waterfall-1-basic-design-principles">Waterfall 1: Basic Design Principles</a><button aria-label="Toggle the collapsible sidebar category &#x27;Waterfall 1: Basic Design Principles&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/deco-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/deco-docs/docs/category/into-the-woods"><span itemprop="name">Into the Woods</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/deco-docs/docs/category/trail-2-ergo-dapp-development"><span itemprop="name">Trail 2: Ergo dApp Development</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Tips - Ergo Syntax</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Basic Syntax In ErgoScript</h1><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_Ktv7">Completion Status</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">Version: 1st Version</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">Written by: LGD</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">val bool: Boolean = true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What’s going on here?</p><p><code>val</code> - A keyword used to create a basic, immutable, value of any type</p><p><code>bool</code> - The name used for the value created</p><p><code>: Boolean</code> - Specifying the type of the value, this is not always necessary, but does make code more understandable</p><p><code>= true</code> - We are setting our Boolean value bool equal to true</p><p>ErgoScript is strongly typed, you should always know what types you are dealing with</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="learn-to-think-in-true-and-false-statements-booleans-more-specifically-sigma-propositions-are-the-core-of-every-ergoscript-contract">Learn to think in true and false statements, booleans (More specifically, Sigma Propositions) are the core of every ErgoScript contract<a class="hash-link" href="#learn-to-think-in-true-and-false-statements-booleans-more-specifically-sigma-propositions-are-the-core-of-every-ergoscript-contract" title="Direct link to heading">​</a></h3><h2 class="anchor anchorWithStickyNavbar_LWe7" id="more-ergoscript-syntax-examples">More ErgoScript Syntax Examples:<a class="hash-link" href="#more-ergoscript-syntax-examples" title="Direct link to heading">​</a></h2><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  if(bool == true){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val x = 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val y = 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val z = ((x * y) + 5) - (3 / 2)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }else{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val x = 2L</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val y: Coll[Long]  = Coll(0L, 1L, x) // You can build collections of elements</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val z: (Long, Long) = (3, 4)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val a: (Long, Coll[Long]) = (x, y) // Build complex types by layering together pairs and colls</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val b: Coll[((Long, Long), Boolean)] = Coll(((2L, 4L), true), ((7L, 2L), false))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ErgoScript is based off of Scala, which means we have some standard functional programming methods and syntax</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  val myMap: Coll[(Int, Long)] = {      // Wrap this val statement into a function that returns a collection of integers paired with longs</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val intCollection = Coll(0, 1, 2)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    intCollection.map{                  // Use the map function, a standard FP method that iterates through the entire</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      (myInt: Int) =&gt;                   // collection and inputs each element through a function to return a collection of outputs.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        (myInt, myInt.toLong)           // We represent our mapping function using a Lambda expression, we define the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        // parameter to be the element of our collection (an Int), then use the</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                                        // arrow operator (=&gt;) in order to show how our parameter maps to an output.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }                                   // We do not need to specify the return value with a keyword</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="def-vs-val">Def vs Val?<a class="hash-link" href="#def-vs-val" title="Direct link to heading">​</a></h3><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  def computeAsDef(myInt: Int): Int = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    myInt + 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  val computeAsVal: Int = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    (myInt: Int) =&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      myInt + 1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above statements <strong>do the exact same thing</strong>. The difference is that <code>val</code> statements are calculated when the script initializes itself to be run. <code>def</code> statements are instead calculated whenever the call is made.
In most instances, you will likely use <code>val</code> statements</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sigma-propositions">Sigma Propositions<a class="hash-link" href="#sigma-propositions" title="Direct link to heading">​</a></h2><p>Sigma Propositions are the core of every single ErgoScript contract
SigmaProps represent some conditions about the transaction that must be met in order to spend a certain box.
They are quite similar to booleans, in that they may be reduced into two values, <code>true</code> or <code>false</code>.
SigmaProps enable the usage of Zero-Knowledge Proofs, an important part of modern-day cryptography and one of the defining features of Ergo in terms of its privacy</p><p><strong>All contracts in ErgoScript return a Sigma Proposition at the very end</strong>. This SigmaProp represents the conditions needed
to spend the box protected by your contract. For this reason, all the code you make within an ErgoScript contract should affect the outcome of your Sigma Proposition in some way.</p><p>SigmaProps come in a few different forms, but there are two main ways you will see them in ErgoScript contracts.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sigmaprops-from-booleans">SigmaProps From Booleans<a class="hash-link" href="#sigmaprops-from-booleans" title="Direct link to heading">​</a></h3><p>You may create SigmaProps from booleans using the <code>sigmaProp</code> function. This
allows you to define arbitrary spending conditions for any contract.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  val mathIsHard: Boolean = (1 + 1) != 2</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sigmaProp(mathIsHard) // SigmaProp created from a boolean using the sigmaProp function</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                        // What would this contract evaluate to?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sigmaprops-from-public-keys">SigmaProps From Public Keys<a class="hash-link" href="#sigmaprops-from-public-keys" title="Direct link to heading">​</a></h3><p>Public Keys (Essentially, the part of your address that makes it different from everyone else&#x27;s)
are also SigmaProps. When a public key is passed as a SigmaProp, your contract checks whether or not the given PK is the one that signed the transaction
You may think of signing a transaction, as quite literally signing it with your signature to prove
that the transaction was authorized by you.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // You can use the PK function to</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  // hardcode an address&#x27;s public key into your contract</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  val myPK: SigmaProp = PK(&quot;9etXmP7D3ZkWssDopWcWkCPpjn22RVuEyXoFSbVPWAvvzDbcDXE&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  myPK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sigmaprop-operations">SigmaProp Operations<a class="hash-link" href="#sigmaprop-operations" title="Direct link to heading">​</a></h3><p>Much like booleans, you may use logical operations on SigmaProps in order to build more complex spending logic for your contract</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  val enoughERG = INPUTS(0).value &gt; 1000000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  val myPK = PK(&quot;9etXmP7D3ZkWssDopWcWkCPpjn22RVuEyXoFSbVPWAvvzDbcDXE&quot;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sigmaProp(enoughERG) || myPK // What does this contract do? Under what conditions could such a contract be spent?</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can see in the above contract that usage of <code>||</code> actually creates two spending paths for the given contract.</p><p>Now you&#x27;ve seen the basics, for the end of this section, lets look at a simple ErgoScript contract, the pin-lock we mentioned earlier</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pin-lock-contract">Pin-lock Contract<a class="hash-link" href="#pin-lock-contract" title="Direct link to heading">​</a></h3><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sigmaProp( INPUTS(0).R4[Coll[Byte]].get == blake2b256(OUTPUTS(0).R4[Coll[Byte]].get) )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Don&#x27;t worry if you don&#x27;t understand the functions used here, these are global functions that we will get into the next section.
What&#x27;s happening here is this:</p><p>We may spend Input 0 of this transaction if and only if there exists an output whose <code>R4</code> (register 4)
contains the hash of the collection of bytes found in R4 of the Input.
This contract refers to itself as <code>INPUTS(0)</code>, for a more clear example, look at the following, where the box being spent refers to itself within its own contract:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pin-lock-contract-with-self">Pin-lock Contract (with SELF)<a class="hash-link" href="#pin-lock-contract-with-self" title="Direct link to heading">​</a></h3><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sigmaProp( SELF.R4[Coll[Byte]].get == blake2b256(OUTPUTS(0).R4[Coll[Byte]].get) )</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Are these two contracts equivalent?
That is, are there any spending conditions that exist in which one contract could evaluate to true, and one could evaluate to false?</p><h1>Technical Knowledge</h1><h1>The Blockchain Context</h1><p>The Blockchain Context represents data taken from the transaction and the state of the blockchain. The data for the blockchain context is stored in the global object <code>CONTEXT</code>. <code>CONTEXT</code>, therefore, contains the main entities that you will interact with to manipulate your contract’s spending conditions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="height">HEIGHT<a class="hash-link" href="#height" title="Direct link to heading">​</a></h3><p>An integer representing the height of the current block is to be validated by miners. The number can be accessed using <code>HEIGHT</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="self">SELF<a class="hash-link" href="#self" title="Direct link to heading">​</a></h3><p><code>SELF</code> represents the current eUTxO input box which holds the ErgoScript contract. The SELF box is of type <code>Box</code>, which contains information relevant to the specified eUTXO such as:</p><p>the value in nanoERGs; the box id; the proposition bytes of the guarding script for this eUTXO, the tokens stored in the box; and the box registers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="inputs">INPUTS<a class="hash-link" href="#inputs" title="Direct link to heading">​</a></h3><p>The eUTxOs are used as input boxes to be spent in the transaction. The boxes are stored in a collection and can be accessed using the object called <code>INPUTS</code>. The <code>SELF</code> box is part of this input box collection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-inputs">Data Inputs<a class="hash-link" href="#data-inputs" title="Direct link to heading">​</a></h3><p>Data inputs are input eUTXOs that are not spent in the transaction. They serve as ‘read-only’ boxes, usually holding information necessary for the spending conditions of the contract. Data inputs can be accessed using <code>CONTEXT.dataInputs</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="outputs">OUTPUTS<a class="hash-link" href="#outputs" title="Direct link to heading">​</a></h3><p>The output box eUTXOs will be created from the transaction. The collection can be accessed using the <code>OUTPUTS</code> object.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="headers">Headers<a class="hash-link" href="#headers" title="Direct link to heading">​</a></h3><p>Block headers (Parts of each block that hold information representing the block) are available through the <code>CONTEXT.headers</code> function. The <code>headers</code> function returns a collection holding the last 10 block headers present before the current <code>HEIGHT</code>. Using this function allows your contract to gain insight into the most recent blocks that occurred before the transaction that your contract is being executed in. Each <code>Header</code> object in the collection returned by <code>headers</code> holds a variety of different information, much of this information pertains to the block miner, such as the miner’s PK, the nonce used to find the block, and the votes the miner submitted when the block was mined.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-headers">Pre-Headers<a class="hash-link" href="#pre-headers" title="Direct link to heading">​</a></h3><p>The <code>CONTEXT.preHeader</code> function gives your contract access to the <code>PreHeader</code>. The <code>PreHeader</code> object represents all of the information available to miners who are working to find the next block. Because each block miner must insert their own information to properly mine a block, the data contained within each <code>PreHeader</code> object is completely different depending on who mines the block. This means that your contract could execute differently depending on who ends up mining the block that spends your contract’s box.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">​</a></h2><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Don&#x27;t worry about the fields accessed in our CONTEXT data, we will go more in depth</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // in the next section. Instead focus on how we are accessing this data and then using</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // using it in our contract.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val selfAtZero = SELF.id == INPUTS(0).id</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val boxAmountToAdd: Long = CONTEXT.dataInputs(0).R4[Long].get // Get&#x27;s a long from R4</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val amountAddedInOutputs = OUTPUTS(0).value == SELF.value + boxAmountToAdd</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val heightIsValid: Boolean = HEIGHT &gt; 700000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val randomValueIsEven: Boolean = CONTEXT.headers(0).powNonce(0) % 2 == 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sigmaProp(amountAddedInOutputs &amp;&amp; selfAtZero)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            || sigmaProp(heightIsValid &amp;&amp; randomValueIsEven)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Boxes and Registers</h1><p>Boxes are the main entity used to hold ERG according to the eUTXO model. Registers are pieces of data that can be attached to any box. They allow your contract to store data and incorporate it into transactions at a later point. There are 4 mandatory registers present within each box in the Ergo blockchain, these registers describe information that is necessary for a box to exist and be valid. Besides the mandatory registers, there are 5 additional registers that may store arbitrary data. This data could be obtained both off-chain and on-chain and allows you to incorporate more data when creating the spending conditions for your contract.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="r0">R0<a class="hash-link" href="#r0" title="Direct link to heading">​</a></h3><p>Contains the monetary value of the box in nanoERGs. This register is accessed using <code>Box.value</code>, where <code>Box</code> could represent either <code>SELF</code> or one of the boxes in the <code>INPUTS</code> or <code>OUTPUTS</code> collection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="r1">R1<a class="hash-link" href="#r1" title="Direct link to heading">​</a></h3><p>Contains the collection of proposition bytes of the guarding ErgoScript contract for the box. It is accessed using <code>Box.propositionBytes</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="r2">R2<a class="hash-link" href="#r2" title="Direct link to heading">​</a></h3><p>Contains a collection of the tokens stored in the box. A token contains is represented by two pieces of information: the unique token id; and the amount of the specified token. The collection is accessed using <code>Box.tokens</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="r3">R3<a class="hash-link" href="#r3" title="Direct link to heading">​</a></h3><p>Contains information about the box’s creation such as: the transaction id from which the box was created as an output; the outputs index of the box (i.e. the index used in <code>OUTPUTS</code>); and the creation height of the block of the transaction from which the box came from. This collection is accessed using <code>Box.creationInfo</code>. The height referenced here is used as part of Ergo’s unique storage rent feature, where boxes may be spent after 4 years so that miners may take some fee and recycle ERG back into the blockchain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="r4---r9">R4 - R9<a class="hash-link" href="#r4---r9" title="Direct link to heading">​</a></h3><p>Contains arbitrary data that is set whenever the box is first outputted from a transaction. This data may essentially be any type commonly found in ErgoScript, along with more complex types built from Pairs and Collections. Registers may also store more complex types such as <code>Box</code>, <code>SigmaProp</code>, <code>GroupElement</code>, and <code>AVLTree</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-box-functions">Other Box Functions<a class="hash-link" href="#other-box-functions" title="Direct link to heading">​</a></h3><p>Outside of the registers themselves, each box has a specific identification hash that may be referenced using the <code>id</code> function. Box ids are formed by taking the <code>blake2b256</code> hash of the boxes content as a <code>Coll[Byte]</code> . You may directly reference the un-hashed collection of bytes representing a box using the <code>bytes</code> function. Keep in mind that each box’s content and id are cryptographically unique, meaning that no two boxes within the blockchain may have the same id or content bytes. This is achieved due to the inclusion of <code>creationInfo</code> within each box, as transaction ids and associated output indexes are all values that must be unique to a given UTXO. You may use the <code>bytesWithoutRef</code> function to return a <code>Coll[Byte]</code> that does not contain such information.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a class="hash-link" href="#example-1" title="Direct link to heading">​</a></h2><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val valueMultiplier = SELF.R4[Int].get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val tokenMultiplier = INPUTS(1).R4[Int].get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    if(SELF.id == INPUTS(0).id){</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val outputValue = OUTPUTS(0).value == SELF.value * valueMultiplier</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val outputTokens = OUTPUTS(0).tokens(0)._2 == SELF.value * tokenMultiplier</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sigmaProp(outputValue &amp;&amp; outputTokens)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }else{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val outputGoesToCheese = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            PK(&quot;9etXmP7D3ZkWssDopWcWkCPpjn22RVuEyXoFSbVPWAvvzDbcDXE&quot;).propBytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                == OUTPUTS(0).propositionBytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        sigmaProp(outputGoesToCheese)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Global Functions</h1><p>There are a variety of global functions available to use in ErgoScript. Here we will go through some of the most commonly used functions, (besides <code>sigmaProp</code>). A complete reference for all global functions and types may be found in the <a href="https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md" target="_blank" rel="noopener noreferrer">ErgoScript LangSpec</a> .</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="logical-functions">Logical Functions<a class="hash-link" href="#logical-functions" title="Direct link to heading">​</a></h2><p>Logical functions describe global functions used on booleans. These functions of course include operators such as <code>&amp;&amp;</code> and <code>||</code>, but the following commonly used functions also exist.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="allof">AllOf<a class="hash-link" href="#allof" title="Direct link to heading">​</a></h3><p>The <code>allOf</code> function takes a collection booleans and returns a boolean indicating whether or not all of the given booleans within the collection evaluate to true. It is equivalent to inserting <code>&amp;&amp;</code> between each boolean in the collection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="anyof">AnyOf<a class="hash-link" href="#anyof" title="Direct link to heading">​</a></h3><p>The <code>anyOf</code> function takes a collection of booleans and returns a boolean indicating whether or not at least one boolean within the entire collection evaluates to true. It is equivalent to inserting <code>||</code> between each boolean in the collection.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="xorof">XorOf<a class="hash-link" href="#xorof" title="Direct link to heading">​</a></h3><p>The <code>xorOf</code> function takes a collection of booleans and applies the XOR operation between each boolean within the collection. Therefore, the <code>xorOf</code> function returns true if an odd number of booleans within the collection evaluate to true. It returns false if an even number of booleans within the collection evaluate to true.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="zero-knowledge-functions">Zero-Knowledge Functions<a class="hash-link" href="#zero-knowledge-functions" title="Direct link to heading">​</a></h2><p>Zero Knowledge functions are functions that may be used to evaluate SigmaProps with Zero-Knowledge needed to verify the truth of the SigmaProps given.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="atleast">AtLeast<a class="hash-link" href="#atleast" title="Direct link to heading">​</a></h3><p>The <code>atLeast</code> function takes an integer <code>k</code> and a collection of SigmaProps and returns whether <code>k</code> SigmaProps within the collection evaluate to true. All SigmaProps are evaluated with zero knowledge.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="zkproof">ZKProof<a class="hash-link" href="#zkproof" title="Direct link to heading">​</a></h3><p>The <code>ZKProof</code> function takes a block of code and evaluates all operations within the code with zero-knowledge scoping. This may be useful if some operations within your contract must be kept private. The code block used must not use any boolean operations to ensure zero-knowledge, and the entire block must evaluate into a single root SigmaProp.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cryptographic-functions">Cryptographic Functions<a class="hash-link" href="#cryptographic-functions" title="Direct link to heading">​</a></h2><p>Cryptographic functions are functions related to cryptography. Such functions include hashing, and calculation over <code>GroupElement</code> values.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="blake2b256">Blake2b256<a class="hash-link" href="#blake2b256" title="Direct link to heading">​</a></h3><p><code>blake2b256</code> takes a <code>Coll[Byte]</code> and returns a new <code>Coll[Byte]</code> hashed according to the Blake2b256 algorithm. The Blake2b256 algorithm is the main hashing algorithm used within Ergo. It is also incorporated as a part of the Autolykos PoW algorithm used to mine Ergo.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sha256">Sha256<a class="hash-link" href="#sha256" title="Direct link to heading">​</a></h3><p><code>sha256</code> takes a <code>Coll[Byte]</code> and returns a new <code>Coll[Byte]</code> hashed according to the SHA256 hashing function.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="decodepoint">DecodePoint<a class="hash-link" href="#decodepoint" title="Direct link to heading">​</a></h3><p><code>decodePoint</code> takes a <code>Coll[Byte]</code> representing a Group Element and converts it into the <code>GroupElement</code> type.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provedhtuple">ProveDHTuple<a class="hash-link" href="#provedhtuple" title="Direct link to heading">​</a></h3><p><code>proveDHTuple</code> takes four <code>GroupElement</code> values and constructs them into a public key represented by a SigmaProp according to the Diffie-Hellman signature protocol. This is useful for creating shared public keys in MultiSig and Ring Signature settings.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="provedlog">ProveDLog<a class="hash-link" href="#provedlog" title="Direct link to heading">​</a></h3><p><code>proveDlog</code> takes a <code>GroupElement</code> and creates a public key represented by a SigmaProp.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compile-time-functions">Compile-Time Functions<a class="hash-link" href="#compile-time-functions" title="Direct link to heading">​</a></h2><p>Compile-Time functions are not evaluated during the spending of the script, instead these functions are used when compiling an ErgoScript contract into the native ErgoTree language. These functions all take Strings (which is not an actual ErgoScript type) and then convert these strings into some ErgoScript type during contract compilation. These values are stored directly within the contract and cannot change once the contract has been compiled.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="frombase">FromBase<a class="hash-link" href="#frombase" title="Direct link to heading">​</a></h3><p>Two functions, <code>fromBase64</code> and <code>fromBase58</code> take Strings of their respective base and convert them into a <code>Coll[Byte]</code> at compile time.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pk">PK<a class="hash-link" href="#pk" title="Direct link to heading">​</a></h3><p>The <code>PK</code> function takes an address string (which is actually just a base58 encoded <code>GroupElement</code> with a network identifier prefix) and converts it into a SigmaProp public key at compile time. This is actually done using many of the functions listed above.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="deserialize">Deserialize<a class="hash-link" href="#deserialize" title="Direct link to heading">​</a></h3><p>The <code>deserialize[T]</code> function takes a type parameter <code>T</code> along with a base58 encoded String of binary data. The String value is converted into some value with ErgoScript type <code>T</code> at compile time.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-functions">Other Functions<a class="hash-link" href="#other-functions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getvar">GetVar<a class="hash-link" href="#getvar" title="Direct link to heading">​</a></h3><h3 class="anchor anchorWithStickyNavbar_LWe7" id="substconstants">SubstConstants<a class="hash-link" href="#substconstants" title="Direct link to heading">​</a></h3><p>The <code>substConstants</code> function has the following signature:</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">def substConstants[T](scriptBytes: Coll[Byte],</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> positions: Coll[Int], newValues: Coll[T]): Coll[Byte]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>getVar[T]</code> takes type parameter <code>T</code> along with some integer <code>tag</code> and returns some Context Variable with the given type that is associated with the given <code>tag</code>. Context Variables are specific off-chain variables that may be attached to any box at the time of transaction creation. Context variables allow for robust changes for certain parameters within your contract. It is especially useful for providing generic contracts that rely on off-chain information which may change between different spending transactions.</p><p>It allows a contract to construct another contract’s propositional bytes using the given parameters. Because a contract’s address is created using its contents, inputting different constants within a contract can change it’s address(and therefore, the contract itself). This function allows for a contract of the same “template” to be created using a new set of constants. In order to be used properly, one must provide a sample of the contract’s propositional bytes(parameter <code>scriptBytes</code>), along with the <code>positions</code> at which certain constants of type <code>T</code> must be replaced with the values in the <code>newValues</code> parameter.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-alcohol-sale-proxy-contract">Example: Alcohol Sale Proxy Contract<a class="hash-link" href="#example-alcohol-sale-proxy-contract" title="Direct link to heading">​</a></h2><div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // ====== Alcohol Sale Proxy Contract Example ====== //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Hard-coded constants expected at compile time are written in UpperCamelCase.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // INPUTS:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // license          = INPUTS(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // buyerProxyInputs = INPUTS - INPUTS(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // OUTPUTS:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // storeBox              = OUTPUTS(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // provincialSalesTaxBox = OUTPUTS(1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // federalSalesTaxBox    = OUTPUTS(2)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // buyerWalletBox        = OUTPUTS(3)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // minerFeeBox           = OUTPUTS(4)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    //</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // (*) Note:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    //           1. Mining fee box is always the last box in the set of OUTPUTS of a transaction,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    //              I am just showing this for clarity, but it will not be accessed in this contract.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  //           2. If there is any that change remains in the proxy,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    //                          it is sent back to the buyer wallet.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Contract variables</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  val buyerPK: SigmaProp          = PK(buyerPKString)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val buyerProxyInputs: Coll[Box] = INPUTS.filter({ (input: Box) =&gt; input.propositionBytes == SELF.propositionBytes })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val buyerAmount: Long           = buyerProxyInputs.fold(0L)({ (input: Box, acc: Long) =&gt; acc + input.value })</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val provincialSalesTax: Long    = (AlcoholSaleAmount * ProvincialSalesTaxNum) / ProvincialSalesTaxDenom</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val federalSalesTax: Long       = (AlcoholSaleAmount * FederalSalesTaxNum) / FederalSalesTaxDenom</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val totalCost: Long             = AlcoholSaleAmount + provincialSalesTax + federalSalesTax + MinerFee</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// Variables associated with the buyer&#x27;s license</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val license = INPUTS(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val id      = license.R4[Coll[Byte]].get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val name    = license.R5[Coll[Byte]].get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val bDay    = license.R6[Coll[Byte]].get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val address = license.R7[Coll[Byte]].get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val expDate = license.R8[Coll[Byte]].get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Context variables needed for the proxy contract, assuming they are provided correctly</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val licenseTemplateContractBytes = getVar[Coll[Byte]](0).get</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Substitute the constants of the license template contract bytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // and create the new contract bytes for the buyer&#x27;s license</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val newLicenseContractBytes = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // New positions</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val newPositions_SigmaProp: Coll[Int] = Coll(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val newPositions_Coll_Byte: Coll[Int] = Coll(1, 2, 3, 4, 5)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // New constants</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val newConstants_SigmaProp: Coll[SigmaProp] = Coll(buyerPK)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val newConstants_Coll_Byte: Coll[Byte] = Coll(id, name, bDay, address, expDate)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // New contract bytes with substituted buyer PK</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val newContractBytes_SigmaProp = substConstants(licenseTemplateContractBytes, newPositions_SigmaProp, newConstants_SigmaProp)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // New contract bytes with substituted buyer license information</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val newContractBytes_Coll_Byte = substConstants(newContractBytes_SigmaProp, newPositions_Coll_Byte, newConstants_Coll_Byte)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val newContractBytes = newContractBytes_Coll_Byte</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        newContractBytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Check for a valid sale</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val validSale = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Check for a valid license</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val validLicense = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            allOf(Coll(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                BuyerLicenseContractBytes == newLicenseContractBytes,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                license.propositionBytes == newLicenseContractBytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            ))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Check for a valid proxy amount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val validProxyAmount = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        buyerAmount &gt;= totalAmount</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Check for a valid store</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val validStore = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            val storeBox = OUTPUTS(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            storeBox.propBytes == StoreBoxPropositionBytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Check for valid sales taxes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val validSalesTaxes = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            // Check for a valid provincial tax</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            val validProvincialSalesTax = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                val provincialSalesTaxBox = OUTPUTS(1)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                allOf(Coll(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    (provincialSalesTaxBox.propositionBytes == ProvincialSalesTaxPK),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    (provincialSalesTaxBox.value &gt;= provincialSalesTax)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            // Check for a valid federal tax</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            val validFederalSalesTax = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                val federalSalesTaxBox = OUTPUTS(2)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                allOf(Coll(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    (federalSalesTaxBox.propositionBytes == FederalSalesTaxPK),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                    (federalSalesTaxBox.value &gt;= federalSalesTax)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                ))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      // Demand that both sales taxes are valid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      allOf(Coll(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        validProvincialSalesTax,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        validFederalSalesTax</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Check for a valid buyer wallet to return any change</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val validBuyerWallet = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            if (buyerAmount &gt; totalCost) {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                val buyerWalletBox = OUTPUTS(3)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                buyerWalletBox.propositionBytes == buyerPK.propBytes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            } else {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">                true</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        // Demand that all the conditions are valid</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        allOf(Coll(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            validLicense,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            validProxyAmount,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            validStore,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            validSalesTaxes,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            validBuyerWallet</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Check for a valid refund</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    val validRefund = {</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        val refundWalletBox = OUTPUTS(0)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        allOf(Coll(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            (refundWalletBox.propositionBytes == buyerPK.propBytes),</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            (refundWalletBox.value &gt;= buyerAmount - MinerFee)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        ))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    // Obtain the appropriate sigma proposition</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    sigmaProp(anyOf(Coll(</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        validSale,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        validRefund</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    )))</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="helpful-article">Helpful article:<a class="hash-link" href="#helpful-article" title="Direct link to heading">​</a></h3><ol><li><a href="https://github.com/ScorexFoundation/sigmastate-interpreter/blob/develop/docs/LangSpec.md" target="_blank" rel="noopener noreferrer">Ergo Lang Spec</a></li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/dapp-components"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DApp Components - Backend</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/deco-docs/docs/into-the-woods/trail2-ergo-coding/k-development-env-set-up-scala"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WIP Lesson 1. Knowledge - Env Set Up (Scala)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learn-to-think-in-true-and-false-statements-booleans-more-specifically-sigma-propositions-are-the-core-of-every-ergoscript-contract" class="table-of-contents__link toc-highlight">Learn to think in true and false statements, booleans (More specifically, Sigma Propositions) are the core of every ErgoScript contract</a></li><li><a href="#more-ergoscript-syntax-examples" class="table-of-contents__link toc-highlight">More ErgoScript Syntax Examples:</a><ul><li><a href="#def-vs-val" class="table-of-contents__link toc-highlight">Def vs Val?</a></li></ul></li><li><a href="#sigma-propositions" class="table-of-contents__link toc-highlight">Sigma Propositions</a><ul><li><a href="#sigmaprops-from-booleans" class="table-of-contents__link toc-highlight">SigmaProps From Booleans</a></li><li><a href="#sigmaprops-from-public-keys" class="table-of-contents__link toc-highlight">SigmaProps From Public Keys</a></li><li><a href="#sigmaprop-operations" class="table-of-contents__link toc-highlight">SigmaProp Operations</a></li><li><a href="#pin-lock-contract" class="table-of-contents__link toc-highlight">Pin-lock Contract</a></li><li><a href="#pin-lock-contract-with-self" class="table-of-contents__link toc-highlight">Pin-lock Contract (with SELF)</a></li><li><a href="#height" class="table-of-contents__link toc-highlight">HEIGHT</a></li><li><a href="#self" class="table-of-contents__link toc-highlight">SELF</a></li><li><a href="#inputs" class="table-of-contents__link toc-highlight">INPUTS</a></li><li><a href="#data-inputs" class="table-of-contents__link toc-highlight">Data Inputs</a></li><li><a href="#outputs" class="table-of-contents__link toc-highlight">OUTPUTS</a></li><li><a href="#headers" class="table-of-contents__link toc-highlight">Headers</a></li><li><a href="#pre-headers" class="table-of-contents__link toc-highlight">Pre-Headers</a></li></ul></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a><ul><li><a href="#r0" class="table-of-contents__link toc-highlight">R0</a></li><li><a href="#r1" class="table-of-contents__link toc-highlight">R1</a></li><li><a href="#r2" class="table-of-contents__link toc-highlight">R2</a></li><li><a href="#r3" class="table-of-contents__link toc-highlight">R3</a></li><li><a href="#r4---r9" class="table-of-contents__link toc-highlight">R4 - R9</a></li><li><a href="#other-box-functions" class="table-of-contents__link toc-highlight">Other Box Functions</a></li></ul></li><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#logical-functions" class="table-of-contents__link toc-highlight">Logical Functions</a><ul><li><a href="#allof" class="table-of-contents__link toc-highlight">AllOf</a></li><li><a href="#anyof" class="table-of-contents__link toc-highlight">AnyOf</a></li><li><a href="#xorof" class="table-of-contents__link toc-highlight">XorOf</a></li></ul></li><li><a href="#zero-knowledge-functions" class="table-of-contents__link toc-highlight">Zero-Knowledge Functions</a><ul><li><a href="#atleast" class="table-of-contents__link toc-highlight">AtLeast</a></li><li><a href="#zkproof" class="table-of-contents__link toc-highlight">ZKProof</a></li></ul></li><li><a href="#cryptographic-functions" class="table-of-contents__link toc-highlight">Cryptographic Functions</a><ul><li><a href="#blake2b256" class="table-of-contents__link toc-highlight">Blake2b256</a></li><li><a href="#sha256" class="table-of-contents__link toc-highlight">Sha256</a></li><li><a href="#decodepoint" class="table-of-contents__link toc-highlight">DecodePoint</a></li><li><a href="#provedhtuple" class="table-of-contents__link toc-highlight">ProveDHTuple</a></li><li><a href="#provedlog" class="table-of-contents__link toc-highlight">ProveDLog</a></li></ul></li><li><a href="#compile-time-functions" class="table-of-contents__link toc-highlight">Compile-Time Functions</a><ul><li><a href="#frombase" class="table-of-contents__link toc-highlight">FromBase</a></li><li><a href="#pk" class="table-of-contents__link toc-highlight">PK</a></li><li><a href="#deserialize" class="table-of-contents__link toc-highlight">Deserialize</a></li></ul></li><li><a href="#other-functions" class="table-of-contents__link toc-highlight">Other Functions</a><ul><li><a href="#getvar" class="table-of-contents__link toc-highlight">GetVar</a></li><li><a href="#substconstants" class="table-of-contents__link toc-highlight">SubstConstants</a></li></ul></li><li><a href="#example-alcohol-sale-proxy-contract" class="table-of-contents__link toc-highlight">Example: Alcohol Sale Proxy Contract</a><ul><li><a href="#helpful-article" class="table-of-contents__link toc-highlight">Helpful article:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/deco-docs/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/AqNU4gpc2a" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/DeCoEducation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/deco-docs/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/deco-education/deco-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/deco-docs/assets/js/runtime~main.4b732aaa.js"></script>
<script src="/deco-docs/assets/js/main.d7255964.js"></script>
</body>
</html>